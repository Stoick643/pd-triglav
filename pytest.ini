[pytest]
# Test discovery
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Test markers
markers =
    fast: marks tests as fast unit tests - models, forms, basic logic (default for development)
    slow: marks tests as slow running tests - external APIs, file I/O, heavy operations
    integration: marks tests as integration tests that require real external services
    external: marks tests that require external services (LLM, S3, OAuth)
    security: marks tests related to security functionality
    api: marks tests for API endpoints
    auth: marks tests for authentication functionality
    models: marks tests for database models
    routes: marks tests for route handlers

# Test paths
testpaths = tests

# Options
addopts = 
    -v
    --tb=short
    --strict-markers
    --disable-warnings

# Test run configurations (use with -m flag)
# Fast development tests: pytest -m "fast or not slow"
# Integration tests: pytest -m "integration"
# Security tests: pytest -m "security" 
# API tests: pytest -m "api"
# All tests except slow: pytest -m "not slow"
# Only slow tests: pytest -m "slow"

# Ignore patterns
norecursedirs = 
    .git
    .tox
    dist
    build
    *.egg
    venv
    env

# Temporarily skip problematic test files
# Remove these lines when ready to fix historical events tests
ignore = tests/test_historical_events.py

# Coverage (if using pytest-cov)
# --cov=.
# --cov-report=html
# --cov-report=term-missing